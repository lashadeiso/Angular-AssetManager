"use strict";(self.webpackChunkassets_app=self.webpackChunkassets_app||[]).push([[558],{8558:(P,a,i)=>{i.r(a),i.d(a,{NewSelDeviceModule:()=>N});var l=i(6814),s=i(1896),o=i(6223),g=i(4825),w=i(3519),r=i.n(w),e=i(5879),f=i(8372),h=i(8065),b=i(2016),v=i(9157),u=i(8525),C=i(3680),m=i(2032);function D(n,c){if(1&n&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}const S=[{path:"",component:(()=>{class n{constructor(t,d,p,O,x){this._selectBoxHttpService=t,this._tokenDecoderValidatorService=d,this._stSelDeviceService=p,this._router=O,this._actvieRoute=x,this.sitesDropDown=[],this.jwtToken=this._tokenDecoderValidatorService.isToken()}ngOnInit(){this.handleRoute()}initForm(){this.addNewSelDevice=new o.cw({brand:new o.NI(null,[o.kI.required]),model:new o.NI(null,[o.kI.required]),site:new o.NI(null,[o.kI.required]),quantity:new o.NI(null,[o.kI.required])}),this.getSite()}getSite(){""!=this.jwtToken&&this._selectBoxHttpService.getBrandAndSite(this.jwtToken,this.selDevice).subscribe(t=>{200===t.statusCode&&(this.sitesDropDown=t.content.site)},t=>{r().fire({icon:"error",title:"Oops...",text:t.error.message})})}onFormSubmit(){this.addNewSelDevice.valid&&""!=this.jwtToken&&this._stSelDeviceService.addNewSelDeviceFromStorage(this.jwtToken,this.selDevice,this.addNewSelDevice.value).subscribe(t=>{201==t.statusCode&&(r().fire({position:"center",icon:"success",title:"User has been added",showConfirmButton:!1,timer:1e3}),(0,g.H)(1e3).subscribe(()=>{this._router.navigate(["main/storage/all-selected-devices"],{queryParams:{selDev:this.selDevice+"s"}})}))},t=>{r().fire({icon:"error",title:"Oops...",text:t.error.message})})}handleRoute(){this._actvieRoute.queryParams.subscribe(t=>{const d=t.selDev;d&&(this.selDevice=d,this.initForm())})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.I),e.Y36(h.a),e.Y36(b.n),e.Y36(s.F0),e.Y36(s.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-new-sel-device"]],decls:27,vars:3,consts:[[1,"add-new-selected-device-container"],[1,"add-new-selected-device-content"],[1,"add-new-selected-device-title"],[1,"add-new-selected-device-body"],[1,"add-new-selected-device-form",3,"formGroup","ngSubmit"],[1,"add-new-selected-device-inputs"],[1,"new-selected-device-brand"],["matInput","","formControlName","brand"],[1,"new-selected-device-model"],["matInput","","formControlName","model"],[1,"new-selected-device-site"],["formControlName","site"],[3,"value",4,"ngFor","ngForOf"],[1,"new-selected-device-quantity"],["type","number","matInput","","formControlName","quantity"],[1,"add-new-selected-device-btn"],["type","submit",3,"disabled"],[3,"value"]],template:function(t,d){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._uU(3,"Add New Device"),e.qZA(),e.TgZ(4,"div",3)(5,"form",4),e.NdJ("ngSubmit",function(){return d.onFormSubmit()}),e.TgZ(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),e._uU(9,"Brand"),e.qZA(),e._UZ(10,"input",7),e.qZA(),e.TgZ(11,"mat-form-field",8)(12,"mat-label"),e._uU(13,"Model"),e.qZA(),e._UZ(14,"input",9),e.qZA(),e.TgZ(15,"mat-form-field",10)(16,"mat-label"),e._uU(17,"Site"),e.qZA(),e.TgZ(18,"mat-select",11),e.YNc(19,D,2,2,"mat-option",12),e.qZA()(),e.TgZ(20,"mat-form-field",13)(21,"mat-label"),e._uU(22,"Quantity"),e.qZA(),e._UZ(23,"input",14),e.qZA()(),e.TgZ(24,"div",15)(25,"button",16),e._uU(26,"Add"),e.qZA()()()()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",d.addNewSelDevice),e.xp6(14),e.Q6J("ngForOf",d.sitesDropDown),e.xp6(6),e.Q6J("disabled",!d.addNewSelDevice.valid))},dependencies:[l.sg,v.KE,v.hX,u.gD,C.ey,m.Nt,o._Y,o.Fj,o.wV,o.JJ,o.JL,o.sg,o.u],styles:[".add-new-selected-device-container[_ngcontent-%COMP%]{width:100%;height:calc(100% - 50px)}.add-new-selected-device-container[_ngcontent-%COMP%]   .add-new-selected-device-content[_ngcontent-%COMP%]{position:relative;margin:50px auto;padding:2% 5%;height:1000px;width:600px;background-color:var(--backGround);border:3px solid var(--gold);box-sizing:border-box;border-radius:10px}.add-new-selected-device-container[_ngcontent-%COMP%]   .add-new-selected-device-content[_ngcontent-%COMP%]   .add-new-selected-device-title[_ngcontent-%COMP%]{margin:0 auto;width:80%;height:20px;border-bottom:2px solid var(--darkWhite)!important;color:var(--darkWhite);font-size:20px;display:flex;justify-content:space-around}.add-new-selected-device-container[_ngcontent-%COMP%]   .add-new-selected-device-inputs[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;justify-content:space-between}.add-new-selected-device-container[_ngcontent-%COMP%]   .add-new-selected-device-inputs[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:var(--white)}.add-new-selected-device-container[_ngcontent-%COMP%]   .add-new-selected-device-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:var(--white)}.add-new-selected-device-container[_ngcontent-%COMP%]   .add-new-selected-device-btn[_ngcontent-%COMP%]{width:100%;height:50px;margin-top:30px;display:flex;justify-content:center;align-items:center}.add-new-selected-device-container[_ngcontent-%COMP%]   .add-new-selected-device-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;bottom:0;left:50%;transform:translate(-50%,-50%);height:50px;width:200px;border:none;font-weight:500;border-radius:5px;font-size:18px;cursor:pointer;color:var(--white);background-color:var(--darkBlue);border:2px solid var(--gold)}.add-new-selected-device-container[_ngcontent-%COMP%]   .add-new-selected-device-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--MoreDarkBlue);transition:all .3s}.add-new-selected-device-container[_ngcontent-%COMP%]   .add-new-selected-device-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{border:none;background-color:var(--darkGray);cursor:auto}"]}),n})()}];let M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[s.Bz.forChild(S),s.Bz]}),n})(),N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,M,u.LD,m.c,o.UX]}),n})()}}]);