"use strict";(self.webpackChunkassets_app=self.webpackChunkassets_app||[]).push([[592],{8420:(f,w,o)=>{o.d(w,{t:()=>m});var d=o(9862),h=o(553),s=o(5879);let m=(()=>{class i{constructor(e){this._http=e}getAllOwnerOfSelDevice(e,r){const n=`${h.N.baseURL}/${r}`,t=new d.WM({Authorization:e});return this._http.get(n,{headers:t})}addNewOwnerOfSelDevice(e,r,n){const t=`${h.N.baseURL}/${r}`,c=new d.WM({Authorization:e});return this._http.post(t,n,{headers:c})}deleteOwnerOfSelDevice(e,r,n){const t=`${h.N.baseURL}/${r}/${n}`,c=new d.WM({Authorization:e});return this._http.delete(t,{headers:c})}OwnerOfSelDevice(e,r,n){const t=`${h.N.baseURL}/${r}/${n}`,c=new d.WM({Authorization:e});return this._http.get(t,{headers:c})}UpdateOwnerOfSelDevice(e,r,n,t){const c=`${h.N.baseURL}/${r}/${n}`,P=new d.WM({Authorization:e});return this._http.patch(c,t,{headers:P})}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(d.eN))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},8372:(f,w,o)=>{o.d(w,{I:()=>m});var d=o(9862),h=o(553),s=o(5879);let m=(()=>{class i{constructor(e){this._http=e}getRoleAndSiteSelectBox(e){const r=`${h.N.baseURL}/user/form`,n=new d.WM({Authorization:e});return this._http.get(r,{headers:n})}getProjectSelectBox(e,r){const n=`${h.N.baseURL}/user/form`,t=new d.WM({Authorization:e});return this._http.get(n,{headers:t,params:{site:r}})}getBrandAndSite(e,r){const n=`${h.N.baseURL}/${r}/form`,t=new d.WM({Authorization:e});return this._http.get(n,{headers:t})}getModelSelectBox(e,r,n){const t=`${h.N.baseURL}/${r}/form/params`,c=new d.WM({Authorization:e});return this._http.get(t,{headers:c,params:{brand:n}})}getUserSelectBox(e,r,n){const t=`${h.N.baseURL}/${r}/form/params`,c=new d.WM({Authorization:e});return this._http.get(t,{headers:c,params:{project:n}})}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(d.eN))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},2016:(f,w,o)=>{o.d(w,{n:()=>m});var d=o(9862),h=o(553),s=o(5879);let m=(()=>{class i{constructor(e){this._http=e}getAllSelDeviceFromStorage(e,r){const n=`${h.N.baseURL}/${r}/all/storage`,t=new d.WM({Authorization:e});return this._http.get(n,{headers:t})}deleteSelDeviceFromStorage(e,r,n){const t=`${h.N.baseURL}/${r}/storage/${n}`,c=new d.WM({Authorization:e});return this._http.delete(t,{headers:c})}editSelDeviceFromStorage(e,r,n){const t=`${h.N.baseURL}/${r}/storage/${n}`,c=new d.WM({Authorization:e});return this._http.get(t,{headers:c})}updateSelDeviceFromStorage(e,r,n,t){const c=`${h.N.baseURL}/${r}/storage/${t}`,P=new d.WM({Authorization:e});return this._http.patch(c,n,{headers:P})}addNewSelDeviceFromStorage(e,r,n){const t=`${h.N.baseURL}/${r}/storage`,c=new d.WM({Authorization:e});return this._http.post(t,n,{headers:c})}}return i.\u0275fac=function(e){return new(e||i)(s.LFG(d.eN))},i.\u0275prov=s.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},2591:(f,w,o)=>{o.r(w),o.d(w,{ChangePasswordModule:()=>O});var d=o(6814),h=o(2032),s=o(6223),m=o(617),i=o(2296),g=o(1896),e=o(4825),r=o(3519),n=o.n(r),t=o(5879),c=o(8065),P=o(1954),C=o(8070),_=o(9157);const M=[{path:"",component:(()=>{class p{constructor(l,a,u,S,D){this._tokenDecoderValidatorService=l,this._http=a,this._router=u,this._dataComunicationService=S,this._tokenDecoderValidator=D,this.passwordHide=!0,this.newPasswordHide=!0,this.confirmPasswordHide=!0,this.jwtToken=this._tokenDecoderValidatorService.isToken()}ngOnInit(){this.initForm(),this.getUserId()}initForm(){this.changePassword=new s.cw({password:new s.NI(null,[s.kI.required]),newPassword:new s.NI(null,[s.kI.required]),confirmPassword:new s.NI(null,[s.kI.required])},{validators:this.passwordMatchValidator})}onFormSubmit(){if("VALID"==this.changePassword.status){const{...l}=this.changePassword.value;""!=this.jwtToken&&this._http.changePassword(this.jwtToken,l).subscribe(u=>{200===u.statusCode&&(n().fire({position:"center",icon:"success",title:"Password has been changed<br>Please Sign in again",showConfirmButton:!1,timer:2e3}),this._dataComunicationService.leavePageGuardActiveOrDeactive.emit("deactive"),(0,e.H)(2e3).subscribe(()=>{localStorage.removeItem("authorization"),this._router.navigate(["/sign-in"])}))},u=>{n().fire({icon:"error",title:"Oops...",text:u.error.message})})}}passwordMatchValidator(l){const a=l.get("newPassword"),u=l.get("confirmPassword");return a?.value!==u?.value?{passwordMismatch:!0}:null}getUserId(){this.userID=this._tokenDecoderValidator.parseToken(this.jwtToken).email}}return p.\u0275fac=function(l){return new(l||p)(t.Y36(c.a),t.Y36(P.b),t.Y36(g.F0),t.Y36(C.t),t.Y36(c.a))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-change-password"]],decls:32,vars:15,consts:[[1,"change-password-container"],[1,"change-password-content"],[1,"change-password-header"],[1,"change-password-body"],[1,"change-password-form",3,"formGroup","ngSubmit"],[1,"change-password-inputs"],[1,"password"],["matInput","","formControlName","password",3,"type"],["type","button","mat-icon-button","","matSuffix","",3,"click"],[1,"new-password"],["matInput","","formControlName","newPassword",3,"type"],[1,"confirm-password"],["matInput","","formControlName","confirmPassword",3,"type"],[1,"change-password-btn"],["type","submit",3,"disabled"]],template:function(l,a){1&l&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),t._uU(4),t.qZA()(),t.TgZ(5,"div",3)(6,"form",4),t.NdJ("ngSubmit",function(){return a.onFormSubmit()}),t.TgZ(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),t._uU(10,"Password"),t.qZA(),t._UZ(11,"input",7),t.TgZ(12,"button",8),t.NdJ("click",function(){return a.passwordHide=!a.passwordHide}),t.TgZ(13,"mat-icon"),t._uU(14),t.qZA()()(),t.TgZ(15,"mat-form-field",9)(16,"mat-label"),t._uU(17,"New Password"),t.qZA(),t._UZ(18,"input",10),t.TgZ(19,"button",8),t.NdJ("click",function(){return a.newPasswordHide=!a.newPasswordHide}),t.TgZ(20,"mat-icon"),t._uU(21),t.qZA()()(),t.TgZ(22,"mat-form-field",11)(23,"mat-label"),t._uU(24,"Confirm Password"),t.qZA(),t._UZ(25,"input",12),t.TgZ(26,"button",8),t.NdJ("click",function(){return a.confirmPasswordHide=!a.confirmPasswordHide}),t.TgZ(27,"mat-icon"),t._uU(28),t.qZA()()()(),t.TgZ(29,"div",13)(30,"button",14),t._uU(31," Submit "),t.qZA()()()()()()),2&l&&(t.xp6(4),t.Oqu(a.userID),t.xp6(2),t.Q6J("formGroup",a.changePassword),t.xp6(5),t.Q6J("type",a.passwordHide?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",a.passwordHide),t.xp6(2),t.Oqu(a.passwordHide?"visibility_off":"visibility"),t.xp6(4),t.Q6J("type",a.newPasswordHide?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",a.newPasswordHide),t.xp6(2),t.Oqu(a.newPasswordHide?"visibility_off":"visibility"),t.xp6(4),t.Q6J("type",a.confirmPasswordHide?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",a.confirmPasswordHide),t.xp6(2),t.Oqu(a.confirmPasswordHide?"visibility_off":"visibility"),t.xp6(2),t.Q6J("disabled",!a.changePassword.valid))},dependencies:[h.Nt,_.KE,_.hX,_.R9,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,m.Hw,i.RK],styles:[".change-password-container[_ngcontent-%COMP%]{width:100%;height:calc(100% - 50px)}.change-password-container[_ngcontent-%COMP%]   .change-password-content[_ngcontent-%COMP%]{position:relative;margin:50px auto;padding:5%;height:550px;width:500px;background-color:var(--backGround);border:3px solid var(--gold);box-sizing:border-box;border-radius:10px}.change-password-container[_ngcontent-%COMP%]   .change-password-content[_ngcontent-%COMP%]   .change-password-header[_ngcontent-%COMP%]{margin:0 auto;width:70%;height:20px;border-bottom:2px solid var(--darkWhite)!important;color:var(--darkWhite);font-size:16px;display:flex;justify-content:space-around}.change-password-container[_ngcontent-%COMP%]   .change-password-content[_ngcontent-%COMP%]   .change-password-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:17px;color:var(--darkWhite)}.change-password-container[_ngcontent-%COMP%]   .change-password-inputs[_ngcontent-%COMP%]{margin-top:50px;display:flex;flex-direction:column;justify-content:space-between}.change-password-container[_ngcontent-%COMP%]   .change-password-inputs[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:var(--white)}.change-password-container[_ngcontent-%COMP%]   .change-password-inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:var(--white)}.change-password-container[_ngcontent-%COMP%]   .change-password-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;bottom:0;left:50%;transform:translate(-50%,-50%);height:50px;width:200px;border:none;font-weight:500;border-radius:5px;font-size:18px;cursor:pointer;color:var(--white);background-color:var(--darkBlue);border:2px solid var(--gold)}.change-password-container[_ngcontent-%COMP%]   .change-password-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--MoreDarkBlue);transition:all .3s}.change-password-container[_ngcontent-%COMP%]   .change-password-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{border:none;background-color:var(--darkGray);cursor:auto}.change-password-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{height:50px;width:100%;margin-top:90px;display:flex;justify-content:center;align-items:center;color:var(--darkWhite);font-size:12px}"]}),p})()}];let b=(()=>{class p{}return p.\u0275fac=function(l){return new(l||p)},p.\u0275mod=t.oAB({type:p}),p.\u0275inj=t.cJS({imports:[g.Bz.forChild(M),g.Bz]}),p})(),O=(()=>{class p{}return p.\u0275fac=function(l){return new(l||p)},p.\u0275mod=t.oAB({type:p}),p.\u0275inj=t.cJS({imports:[d.ez,b,h.c,s.UX,m.Ps,i.ot]}),p})()}}]);