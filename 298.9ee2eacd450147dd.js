"use strict";(self.webpackChunkassets_app=self.webpackChunkassets_app||[]).push([[298],{3371:(A,u,l)=>{l.r(u),l.d(u,{AllOwnersOfSelDevModule:()=>d});var h=l(6814),i=l(1896),p=l(5313),w=l(3519),c=l.n(w),s=l(5879),D=l(8065),g=l(8420),m=l(4531);const v=[{path:"",component:(()=>{class t{constructor(e,n,o,a){this._tokenDecoderValidatorService=e,this._prSelDeviceService=n,this._router=o,this._actvieRoute=a,this.displayedColumns=[],this.columnLabels={},this.ownersOfSelDev=[],this.dataSource=new p.by,this.jwtToken=this._tokenDecoderValidatorService.isToken()}ngOnInit(){this.handleRoute()}navigateNewOwner(){this._router.navigate(["main/production/new-owner-of-sel-device"],{queryParams:{selDev:this.selDevice}})}getAllOwnerOfSelDevice(){""!==this.jwtToken&&this._prSelDeviceService.getAllOwnerOfSelDevice(this.jwtToken,this.selDevice).subscribe(e=>{200===e.statusCode&&(this.ownersOfSelDev=e.content,this.dataSource.data=this.ownersOfSelDev)},e=>this.showError(e.error.message))}deleteItem(e){c().fire({title:"Are you sure?",icon:"question",showCancelButton:!0,confirmButtonColor:"#b168a7",cancelButtonColor:"#689ab1",confirmButtonText:"Delete"}).then(n=>{n.isConfirmed&&"serialNumber"in e&&this._prSelDeviceService.deleteOwnerOfSelDevice(this.jwtToken,this.selDevice,e.serialNumber).subscribe(o=>{200===o.statusCode&&(this.showSuccessMessage(o.message),this.getAllOwnerOfSelDevice())},o=>this.showError(o.error.message))})}editItem(e){"serialNumber"in e&&this._router.navigate(["main/production/edit-owner-of-sel-device"],{queryParams:{selDev:this.selDevice},fragment:e.serialNumber})}handleRoute(){this._actvieRoute.queryParams.subscribe(e=>{const n=e.selDev;n&&(this.selDevice=n.slice(0,-1),this.getAllOwnerOfSelDevice(),this.getDisplayColumnsAndLabels())})}getDisplayColumnsAndLabels(){this.displayedColumns="laptop"===this.selDevice||"windows-pc"===this.selDevice?["brand","model","serialNumber","assetNumber","hostname","macAddress","site","project","user","author","updatedAt","edit","delete"]:"monitor"===this.selDevice?["brand","model","serialNumber","assetNumber","site","project","user","author","updatedAt","edit","delete"]:["brand","model","serialNumber","site","project","user","author","updatedAt","edit","delete"],this.columnLabels={brand:"Brand",model:"Model",hostname:"Host Name",macAddress:"Mac Address",assetNumber:"Asset Number",serialNumber:"Serial Number",site:"Site",project:"Project",user:"Owner",author:"Created-By",updatedAt:"Updated At",edit:"Edit",delete:"Delete"}}showSuccessMessage(e){c().fire({position:"center",icon:"success",title:e,showConfirmButton:!1,timer:1500})}showError(e){c().fire({icon:"error",title:"Oops...",text:e})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(D.a),s.Y36(g.t),s.Y36(i.F0),s.Y36(i.gz))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-all-owners-of-sel-dev"]],decls:6,vars:4,consts:[[1,"all-owners-of-sel-davice"],[1,"all-owners-of-sel-davice-header"],[1,"add-new-btn",3,"click"],[1,"all-owners-of-sel-davice-table"],[3,"displayedColumns","columnLabels","dataSource","allEquipment","deleteItem","editItem"]],template:function(e,n){1&e&&(s.TgZ(0,"div",0)(1,"div",1)(2,"button",2),s.NdJ("click",function(){return n.navigateNewOwner()}),s._uU(3,"Add new"),s.qZA()(),s.TgZ(4,"div",3)(5,"app-table",4),s.NdJ("deleteItem",function(a){return n.deleteItem(a)})("editItem",function(a){return n.editItem(a)}),s.qZA()()()),2&e&&(s.xp6(5),s.Q6J("displayedColumns",n.displayedColumns)("columnLabels",n.columnLabels)("dataSource",n.dataSource)("allEquipment",n.ownersOfSelDev))},dependencies:[m.a],styles:[".all-owners-of-sel-davice[_ngcontent-%COMP%]{height:100%;width:100%}.all-owners-of-sel-davice[_ngcontent-%COMP%]   .all-owners-of-sel-davice-header[_ngcontent-%COMP%]{width:100%;height:60px;display:flex;align-items:center;background-color:var(--backGround);border-bottom:4px solid var(--gold)}.all-owners-of-sel-davice[_ngcontent-%COMP%]   .all-owners-of-sel-davice-header[_ngcontent-%COMP%]   .add-new-btn[_ngcontent-%COMP%]{margin-left:20px;height:35px;width:120px;border:2px solid var(--gold);border-radius:10px;font-size:12px;cursor:pointer;color:var(--white);background-color:var(--MoreDarkBlue)}.all-owners-of-sel-davice[_ngcontent-%COMP%]   .all-owners-of-sel-davice-header[_ngcontent-%COMP%]   .add-new-btn[_ngcontent-%COMP%]:hover{background-color:var(--darkBlue);transition:all .3s}.all-owners-of-sel-davice[_ngcontent-%COMP%]   .all-owners-of-sel-davice-header[_ngcontent-%COMP%]   .add-new-btn[_ngcontent-%COMP%]:disabled{background-color:var(--darkGray)}.all-owners-of-sel-davice[_ngcontent-%COMP%]   .all-owners-of-sel-davice-table[_ngcontent-%COMP%]{height:calc(100% - 50px)}"]}),t})()}];let f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[i.Bz.forChild(v),i.Bz]}),t})();var O=l(8389);let d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[h.ez,f,O.U]}),t})()},9315:(A,u,l)=>{l.d(u,{D:()=>g});var h=l(5592),i=l(7453),p=l(4829),w=l(9940),c=l(8251),s=l(7400),D=l(2714);function g(...m){const C=(0,w.jO)(m),{args:v,keys:f}=(0,i.D)(m),O=new h.y(d=>{const{length:t}=v;if(!t)return void d.complete();const r=new Array(t);let e=t,n=t;for(let o=0;o<t;o++){let a=!1;(0,p.Xf)(v[o]).subscribe((0,c.x)(d,S=>{a||(a=!0,n--),r[o]=S},()=>e--,void 0,()=>{(!e||!a)&&(n||d.next(f?(0,D.n)(f,r):r),d.complete())}))}});return C?O.pipe((0,s.Z)(C)):O}}}]);